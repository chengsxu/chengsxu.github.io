{"title":"grep的grouping","date":"2022-09-24T00:14:23.919Z","source":"_posts/grep的grouping.md","raw":"---\ntitle: grep的grouping\ndate: 2022-09-24 08:14:23.919\nupdated: 2022-09-24 08:20:02.801\ncategories: \n- linux\ntags: \n---\ngrep的grouping\n<!-- more -->\n存在文本config.json\n```json\n{\n    \"port\": 8000,\n   \n    \"userName\": \"*****\",\n    \"password\": \"*******\",\n    \"desDir\": \"//192.168.1.54/share\",\n    \"tarDir\": \"/share\",\n\n    \"copysrc\": \"Z:\\\\sonia\",\n    \"copydst\": \"D:\\\\share\",\n\n    \"WEB_SERVE\": \"11.54.34.130:8000\",\n    \"GENUI_DIR\": \"/home/*****/src\",\n    \"PACK_DIR\": \"/home/*****/src\"\n}\n```\n使用grep匹配其中WEB_SERVE的值\n```shell\ncat config.json |grep WEB_SERVE | grep -oP '\\\"(\\d.*?)\\\"'\n# \"11.54.34.130:8000\"\ncat config.json |grep WEB_SERVE | grep -oP '(?<=\")\\d.*?(?=\")'\n# 11.54.34.130:8000\n\n```\n通过本次测试发现，grep内的grouping命令并不都能像python re模块中直接匹配组的内容，想要直接获取文本匹配固定内容可通过断言获得\n```\n以双引号开头：(?<=\")  \n以双引号结尾：(?=\")\n```","slug":"grep的grouping","published":true,"updated":"2022-09-24T00:20:02.801Z","_id":"cm833960o000ni0q6dt9dgerr","comments":true,"layout":"post","photos":[],"html":"<p>grep的grouping</p>\n<span id=\"more\"></span>\n<p>存在文本config.json</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;port&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">8000</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">   </span><br><span class=\"line\">    <span class=\"attr\">&quot;userName&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;*****&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;password&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;*******&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;desDir&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;//192.168.1.54/share&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;tarDir&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;/share&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attr\">&quot;copysrc&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;Z:\\\\sonia&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;copydst&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;D:\\\\share&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attr\">&quot;WEB_SERVE&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;11.54.34.130:8000&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;GENUI_DIR&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;/home/*****/src&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;PACK_DIR&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;/home/*****/src&quot;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n<p>使用grep匹配其中WEB_SERVE的值</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat config.json |grep WEB_SERVE | grep -oP &#x27;\\&quot;(\\d.*?)\\&quot;&#x27;</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\"><span class=\"string\">&quot;11.54.34.130:8000&quot;</span></span></span><br><span class=\"line\">cat config.json |grep WEB_SERVE | grep -oP &#x27;(?&lt;=&quot;)\\d.*?(?=&quot;)&#x27;</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">11.54.34.130:8000</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>通过本次测试发现，grep内的grouping命令并不都能像python re模块中直接匹配组的内容，想要直接获取文本匹配固定内容可通过断言获得</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">以双引号开头：(?&lt;=&quot;)  </span><br><span class=\"line\">以双引号结尾：(?=&quot;)</span><br></pre></td></tr></table></figure>","excerpt":"<p>grep的grouping</p>","more":"<p>存在文本config.json</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;port&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">8000</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">   </span><br><span class=\"line\">    <span class=\"attr\">&quot;userName&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;*****&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;password&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;*******&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;desDir&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;//192.168.1.54/share&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;tarDir&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;/share&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attr\">&quot;copysrc&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;Z:\\\\sonia&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;copydst&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;D:\\\\share&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attr\">&quot;WEB_SERVE&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;11.54.34.130:8000&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;GENUI_DIR&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;/home/*****/src&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;PACK_DIR&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;/home/*****/src&quot;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n<p>使用grep匹配其中WEB_SERVE的值</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat config.json |grep WEB_SERVE | grep -oP &#x27;\\&quot;(\\d.*?)\\&quot;&#x27;</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\"><span class=\"string\">&quot;11.54.34.130:8000&quot;</span></span></span><br><span class=\"line\">cat config.json |grep WEB_SERVE | grep -oP &#x27;(?&lt;=&quot;)\\d.*?(?=&quot;)&#x27;</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">11.54.34.130:8000</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>通过本次测试发现，grep内的grouping命令并不都能像python re模块中直接匹配组的内容，想要直接获取文本匹配固定内容可通过断言获得</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">以双引号开头：(?&lt;=&quot;)  </span><br><span class=\"line\">以双引号结尾：(?=&quot;)</span><br></pre></td></tr></table></figure>","path":"2022/09/24/grep的grouping/","permalink":"http://chengs.run/2022/09/24/grep%E7%9A%84grouping/","tags":[],"categories":[{"name":"linux","_id":"cm833960q000si0q6353t07tv","slug":"linux","path":"categories/linux/","permalink":"http://chengs.run/categories/linux/","length":1}],"prev":{"title":"shell参数解析","date":"2022-09-24T00:29:49.074Z","slug":"shell参数解析","published":true,"updated":"2022-09-24T00:48:19.756Z","_id":"cm833960z001ki0q674dh389q","layout":"post","photos":[],"excerpt":"<p>shell参数解析</p>","path":"2022/09/24/shell参数解析/","permalink":"http://chengs.run/2022/09/24/shell%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%90/","__post":true},"next":{"title":"广播数据扫描和发送","date":"2022-08-31T05:44:07.360Z","slug":"广播数据扫描和发送","published":true,"updated":"2022-08-31T05:45:42.637Z","_id":"cm8339611001ri0q6etcm5zof","layout":"post","photos":[],"excerpt":"<p>广播数据扫描和发送</p>","path":"2022/08/31/广播数据扫描和发送/","permalink":"http://chengs.run/2022/08/31/%E5%B9%BF%E6%92%AD%E6%95%B0%E6%8D%AE%E6%89%AB%E6%8F%8F%E5%92%8C%E5%8F%91%E9%80%81/","__post":true},"__post":true}