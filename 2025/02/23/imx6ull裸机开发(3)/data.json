{"title":"imx6ull裸机开发(3)","date":"2025-02-23T04:39:02.637Z","source":"_posts/imx6ull裸机开发(3).md","raw":"---\ntitle: imx6ull裸机开发(3)\ndate: 2025-02-23 12:39:02.637\nupdated: 2025-02-23 20:38:29.902\ncategories: \ntags: \n- imx6ull\n---\nEPIT、GPT、UART\n<!-- more -->\n# Enhanced Periodic Interrupt Timer (EPIT)\n![image-1740285528797](imx6ull裸机开发(3)/image-1740285528797.png)\n\n此部分结构较为简单，直接查看imx6ull参考手册即可，不做过多解释，只需要注意下图的操作顺序即可\n\n![image-1740286562306](imx6ull裸机开发(3)/image-1740286562306.png)\n\n# General Purpose Timer (GPT)\n![image-1740297626198](imx6ull裸机开发(3)/image-1740297626198.png)\n\n- 两种工作模式\n![image-1740298159573](imx6ull裸机开发(3)/image-1740298159573.png)\n\n- 两路输入比较\n\n- 三路输出捕获\n\n# UART\n## UARTx_UCR1寄存器\n| 位名称 | 功能   | 配置值  |\n| ------ | ------ | ------ | \n| UARTEN | 总使能 | 1  |\n| ADBR   | 自动检测波特率使能| 0|\n\n![image-1740305048617](imx6ull裸机开发(3)/image-1740305048617.png)\n\n## UARTx_UCR2寄存器\n| 位名称 | 功能           | 配置值 |\n| ------ | -------------- | ------ |\n| SRST   | 软件复位       | 0      |\n| RXEN   | 接收使能       | 1      |\n| TXEN   | 发送使能       | 1      |\n| WS     | 设置数据位长度 | 1      |\n| STPB   | 停止位         | 0      |\n| PREN   | 校验使能       | 0      |\n| IRTS   | 忽略rts引脚    | 1      | \n\n![image-1740305316147](imx6ull裸机开发(3)/image-1740305316147.png)\n\n## UARTx_UCR3寄存器\n| 位名称    | 功能    | 配置值 |\n| --------- | ------- | ------ |\n| RXDMUXSEL | 必须位1 | 1      |\n\n## UARTx_UFCR\n| 位名称 | 功能     | 配置值 |\n| ------ | -------- | ------ |\n| RFDIV  | 时钟分频 | -      |\n\n注：配置CSCDR1[UART_CLK_SEL]为0，CSCDR1[UART_CLK_PODF]为1分频，选择PLL3 / 6 = 80Mhz时钟\n![image-1740305841125](imx6ull裸机开发(3)/image-1740305841125.png)\n\n## 配置波特率 UARTx_UBRC、UARTx_UBIR\n![image-1740306062213](imx6ull裸机开发(3)/image-1740306062213.png)\n\n- 这里有个坑 特别注意下\n\n![image-1740311765329](imx6ull裸机开发(3)/image-1740311765329.png)\n\n## UARTx_USR2\n| 位名称 | 功能     | 配置值 |\n| ------ | -------- | ------ |\n| RDR    | 为1接受完成 | -       |\n| TXDC   | 为1发送完成 | -      |\n\n## 其他\n- 编译选项-fno-builtin去除putc和getc函数的多定义问题\n- c语言编译选项添加-Wa,-mimplicit-it=thumb可支持除法运算\n\n\n\n\n\n\n\n","slug":"imx6ull裸机开发(3)","published":true,"updated":"2025-02-23T12:38:29.902Z","_id":"cm833960r000ti0q6gotsa4w0","comments":true,"layout":"post","photos":[],"html":"<p>EPIT、GPT、UART</p>\n<span id=\"more\"></span>\n<h1 id=\"Enhanced-Periodic-Interrupt-Timer-EPIT\"><a href=\"#Enhanced-Periodic-Interrupt-Timer-EPIT\" class=\"headerlink\" title=\"Enhanced Periodic Interrupt Timer (EPIT)\"></a>Enhanced Periodic Interrupt Timer (EPIT)</h1><p><img src=\"/2025/02/23/imx6ull%E8%A3%B8%E6%9C%BA%E5%BC%80%E5%8F%91(3)/image-1740285528797.png\" alt=\"image-1740285528797\"></p>\n<p>此部分结构较为简单，直接查看imx6ull参考手册即可，不做过多解释，只需要注意下图的操作顺序即可</p>\n<p><img src=\"/2025/02/23/imx6ull%E8%A3%B8%E6%9C%BA%E5%BC%80%E5%8F%91(3)/image-1740286562306.png\" alt=\"image-1740286562306\"></p>\n<h1 id=\"General-Purpose-Timer-GPT\"><a href=\"#General-Purpose-Timer-GPT\" class=\"headerlink\" title=\"General Purpose Timer (GPT)\"></a>General Purpose Timer (GPT)</h1><p><img src=\"/2025/02/23/imx6ull%E8%A3%B8%E6%9C%BA%E5%BC%80%E5%8F%91(3)/image-1740297626198.png\" alt=\"image-1740297626198\"></p>\n<ul>\n<li><p>两种工作模式<br><img src=\"/2025/02/23/imx6ull%E8%A3%B8%E6%9C%BA%E5%BC%80%E5%8F%91(3)/image-1740298159573.png\" alt=\"image-1740298159573\"></p>\n</li>\n<li><p>两路输入比较</p>\n</li>\n<li><p>三路输出捕获</p>\n</li>\n</ul>\n<h1 id=\"UART\"><a href=\"#UART\" class=\"headerlink\" title=\"UART\"></a>UART</h1><h2 id=\"UARTx-UCR1寄存器\"><a href=\"#UARTx-UCR1寄存器\" class=\"headerlink\" title=\"UARTx_UCR1寄存器\"></a>UARTx_UCR1寄存器</h2><table>\n<thead>\n<tr>\n<th>位名称</th>\n<th>功能</th>\n<th>配置值</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>UARTEN</td>\n<td>总使能</td>\n<td>1</td>\n</tr>\n<tr>\n<td>ADBR</td>\n<td>自动检测波特率使能</td>\n<td>0</td>\n</tr>\n</tbody></table>\n<p><img src=\"/2025/02/23/imx6ull%E8%A3%B8%E6%9C%BA%E5%BC%80%E5%8F%91(3)/image-1740305048617.png\" alt=\"image-1740305048617\"></p>\n<h2 id=\"UARTx-UCR2寄存器\"><a href=\"#UARTx-UCR2寄存器\" class=\"headerlink\" title=\"UARTx_UCR2寄存器\"></a>UARTx_UCR2寄存器</h2><table>\n<thead>\n<tr>\n<th>位名称</th>\n<th>功能</th>\n<th>配置值</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>SRST</td>\n<td>软件复位</td>\n<td>0</td>\n</tr>\n<tr>\n<td>RXEN</td>\n<td>接收使能</td>\n<td>1</td>\n</tr>\n<tr>\n<td>TXEN</td>\n<td>发送使能</td>\n<td>1</td>\n</tr>\n<tr>\n<td>WS</td>\n<td>设置数据位长度</td>\n<td>1</td>\n</tr>\n<tr>\n<td>STPB</td>\n<td>停止位</td>\n<td>0</td>\n</tr>\n<tr>\n<td>PREN</td>\n<td>校验使能</td>\n<td>0</td>\n</tr>\n<tr>\n<td>IRTS</td>\n<td>忽略rts引脚</td>\n<td>1</td>\n</tr>\n</tbody></table>\n<p><img src=\"/2025/02/23/imx6ull%E8%A3%B8%E6%9C%BA%E5%BC%80%E5%8F%91(3)/image-1740305316147.png\" alt=\"image-1740305316147\"></p>\n<h2 id=\"UARTx-UCR3寄存器\"><a href=\"#UARTx-UCR3寄存器\" class=\"headerlink\" title=\"UARTx_UCR3寄存器\"></a>UARTx_UCR3寄存器</h2><table>\n<thead>\n<tr>\n<th>位名称</th>\n<th>功能</th>\n<th>配置值</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>RXDMUXSEL</td>\n<td>必须位1</td>\n<td>1</td>\n</tr>\n</tbody></table>\n<h2 id=\"UARTx-UFCR\"><a href=\"#UARTx-UFCR\" class=\"headerlink\" title=\"UARTx_UFCR\"></a>UARTx_UFCR</h2><table>\n<thead>\n<tr>\n<th>位名称</th>\n<th>功能</th>\n<th>配置值</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>RFDIV</td>\n<td>时钟分频</td>\n<td>-</td>\n</tr>\n</tbody></table>\n<p>注：配置CSCDR1[UART_CLK_SEL]为0，CSCDR1[UART_CLK_PODF]为1分频，选择PLL3 &#x2F; 6 &#x3D; 80Mhz时钟<br><img src=\"/2025/02/23/imx6ull%E8%A3%B8%E6%9C%BA%E5%BC%80%E5%8F%91(3)/image-1740305841125.png\" alt=\"image-1740305841125\"></p>\n<h2 id=\"配置波特率-UARTx-UBRC、UARTx-UBIR\"><a href=\"#配置波特率-UARTx-UBRC、UARTx-UBIR\" class=\"headerlink\" title=\"配置波特率 UARTx_UBRC、UARTx_UBIR\"></a>配置波特率 UARTx_UBRC、UARTx_UBIR</h2><p><img src=\"/2025/02/23/imx6ull%E8%A3%B8%E6%9C%BA%E5%BC%80%E5%8F%91(3)/image-1740306062213.png\" alt=\"image-1740306062213\"></p>\n<ul>\n<li>这里有个坑 特别注意下</li>\n</ul>\n<p><img src=\"/2025/02/23/imx6ull%E8%A3%B8%E6%9C%BA%E5%BC%80%E5%8F%91(3)/image-1740311765329.png\" alt=\"image-1740311765329\"></p>\n<h2 id=\"UARTx-USR2\"><a href=\"#UARTx-USR2\" class=\"headerlink\" title=\"UARTx_USR2\"></a>UARTx_USR2</h2><table>\n<thead>\n<tr>\n<th>位名称</th>\n<th>功能</th>\n<th>配置值</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>RDR</td>\n<td>为1接受完成</td>\n<td>-</td>\n</tr>\n<tr>\n<td>TXDC</td>\n<td>为1发送完成</td>\n<td>-</td>\n</tr>\n</tbody></table>\n<h2 id=\"其他\"><a href=\"#其他\" class=\"headerlink\" title=\"其他\"></a>其他</h2><ul>\n<li>编译选项-fno-builtin去除putc和getc函数的多定义问题</li>\n<li>c语言编译选项添加-Wa,-mimplicit-it&#x3D;thumb可支持除法运算</li>\n</ul>\n","excerpt":"<p>EPIT、GPT、UART</p>","more":"<h1 id=\"Enhanced-Periodic-Interrupt-Timer-EPIT\"><a href=\"#Enhanced-Periodic-Interrupt-Timer-EPIT\" class=\"headerlink\" title=\"Enhanced Periodic Interrupt Timer (EPIT)\"></a>Enhanced Periodic Interrupt Timer (EPIT)</h1><p><img src=\"/2025/02/23/imx6ull%E8%A3%B8%E6%9C%BA%E5%BC%80%E5%8F%91(3)/image-1740285528797.png\" alt=\"image-1740285528797\"></p>\n<p>此部分结构较为简单，直接查看imx6ull参考手册即可，不做过多解释，只需要注意下图的操作顺序即可</p>\n<p><img src=\"/2025/02/23/imx6ull%E8%A3%B8%E6%9C%BA%E5%BC%80%E5%8F%91(3)/image-1740286562306.png\" alt=\"image-1740286562306\"></p>\n<h1 id=\"General-Purpose-Timer-GPT\"><a href=\"#General-Purpose-Timer-GPT\" class=\"headerlink\" title=\"General Purpose Timer (GPT)\"></a>General Purpose Timer (GPT)</h1><p><img src=\"/2025/02/23/imx6ull%E8%A3%B8%E6%9C%BA%E5%BC%80%E5%8F%91(3)/image-1740297626198.png\" alt=\"image-1740297626198\"></p>\n<ul>\n<li><p>两种工作模式<br><img src=\"/2025/02/23/imx6ull%E8%A3%B8%E6%9C%BA%E5%BC%80%E5%8F%91(3)/image-1740298159573.png\" alt=\"image-1740298159573\"></p>\n</li>\n<li><p>两路输入比较</p>\n</li>\n<li><p>三路输出捕获</p>\n</li>\n</ul>\n<h1 id=\"UART\"><a href=\"#UART\" class=\"headerlink\" title=\"UART\"></a>UART</h1><h2 id=\"UARTx-UCR1寄存器\"><a href=\"#UARTx-UCR1寄存器\" class=\"headerlink\" title=\"UARTx_UCR1寄存器\"></a>UARTx_UCR1寄存器</h2><table>\n<thead>\n<tr>\n<th>位名称</th>\n<th>功能</th>\n<th>配置值</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>UARTEN</td>\n<td>总使能</td>\n<td>1</td>\n</tr>\n<tr>\n<td>ADBR</td>\n<td>自动检测波特率使能</td>\n<td>0</td>\n</tr>\n</tbody></table>\n<p><img src=\"/2025/02/23/imx6ull%E8%A3%B8%E6%9C%BA%E5%BC%80%E5%8F%91(3)/image-1740305048617.png\" alt=\"image-1740305048617\"></p>\n<h2 id=\"UARTx-UCR2寄存器\"><a href=\"#UARTx-UCR2寄存器\" class=\"headerlink\" title=\"UARTx_UCR2寄存器\"></a>UARTx_UCR2寄存器</h2><table>\n<thead>\n<tr>\n<th>位名称</th>\n<th>功能</th>\n<th>配置值</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>SRST</td>\n<td>软件复位</td>\n<td>0</td>\n</tr>\n<tr>\n<td>RXEN</td>\n<td>接收使能</td>\n<td>1</td>\n</tr>\n<tr>\n<td>TXEN</td>\n<td>发送使能</td>\n<td>1</td>\n</tr>\n<tr>\n<td>WS</td>\n<td>设置数据位长度</td>\n<td>1</td>\n</tr>\n<tr>\n<td>STPB</td>\n<td>停止位</td>\n<td>0</td>\n</tr>\n<tr>\n<td>PREN</td>\n<td>校验使能</td>\n<td>0</td>\n</tr>\n<tr>\n<td>IRTS</td>\n<td>忽略rts引脚</td>\n<td>1</td>\n</tr>\n</tbody></table>\n<p><img src=\"/2025/02/23/imx6ull%E8%A3%B8%E6%9C%BA%E5%BC%80%E5%8F%91(3)/image-1740305316147.png\" alt=\"image-1740305316147\"></p>\n<h2 id=\"UARTx-UCR3寄存器\"><a href=\"#UARTx-UCR3寄存器\" class=\"headerlink\" title=\"UARTx_UCR3寄存器\"></a>UARTx_UCR3寄存器</h2><table>\n<thead>\n<tr>\n<th>位名称</th>\n<th>功能</th>\n<th>配置值</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>RXDMUXSEL</td>\n<td>必须位1</td>\n<td>1</td>\n</tr>\n</tbody></table>\n<h2 id=\"UARTx-UFCR\"><a href=\"#UARTx-UFCR\" class=\"headerlink\" title=\"UARTx_UFCR\"></a>UARTx_UFCR</h2><table>\n<thead>\n<tr>\n<th>位名称</th>\n<th>功能</th>\n<th>配置值</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>RFDIV</td>\n<td>时钟分频</td>\n<td>-</td>\n</tr>\n</tbody></table>\n<p>注：配置CSCDR1[UART_CLK_SEL]为0，CSCDR1[UART_CLK_PODF]为1分频，选择PLL3 &#x2F; 6 &#x3D; 80Mhz时钟<br><img src=\"/2025/02/23/imx6ull%E8%A3%B8%E6%9C%BA%E5%BC%80%E5%8F%91(3)/image-1740305841125.png\" alt=\"image-1740305841125\"></p>\n<h2 id=\"配置波特率-UARTx-UBRC、UARTx-UBIR\"><a href=\"#配置波特率-UARTx-UBRC、UARTx-UBIR\" class=\"headerlink\" title=\"配置波特率 UARTx_UBRC、UARTx_UBIR\"></a>配置波特率 UARTx_UBRC、UARTx_UBIR</h2><p><img src=\"/2025/02/23/imx6ull%E8%A3%B8%E6%9C%BA%E5%BC%80%E5%8F%91(3)/image-1740306062213.png\" alt=\"image-1740306062213\"></p>\n<ul>\n<li>这里有个坑 特别注意下</li>\n</ul>\n<p><img src=\"/2025/02/23/imx6ull%E8%A3%B8%E6%9C%BA%E5%BC%80%E5%8F%91(3)/image-1740311765329.png\" alt=\"image-1740311765329\"></p>\n<h2 id=\"UARTx-USR2\"><a href=\"#UARTx-USR2\" class=\"headerlink\" title=\"UARTx_USR2\"></a>UARTx_USR2</h2><table>\n<thead>\n<tr>\n<th>位名称</th>\n<th>功能</th>\n<th>配置值</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>RDR</td>\n<td>为1接受完成</td>\n<td>-</td>\n</tr>\n<tr>\n<td>TXDC</td>\n<td>为1发送完成</td>\n<td>-</td>\n</tr>\n</tbody></table>\n<h2 id=\"其他\"><a href=\"#其他\" class=\"headerlink\" title=\"其他\"></a>其他</h2><ul>\n<li>编译选项-fno-builtin去除putc和getc函数的多定义问题</li>\n<li>c语言编译选项添加-Wa,-mimplicit-it&#x3D;thumb可支持除法运算</li>\n</ul>","path":"2025/02/23/imx6ull裸机开发(3)/","permalink":"http://chengs.run/2025/02/23/imx6ull%E8%A3%B8%E6%9C%BA%E5%BC%80%E5%8F%91(3)/","tags":[{"name":"imx6ull","_id":"cm833960s000wi0q61oy1go6a","slug":"imx6ull","path":"tags/imx6ull/","permalink":"http://chengs.run/tags/imx6ull/","length":4}],"categories":[],"prev":{"title":"imx6ull裸机开发(4)","date":"2025-02-28T05:41:50.000Z","slug":"imx6ull裸机开发(4)","published":true,"updated":"2025-03-10T13:18:27.352Z","_id":"cm833960s000xi0q6gpx1bjvq","layout":"post","photos":[],"excerpt":"<p>MMDC、RTC、I2C、SPI</p>","path":"2025/02/28/imx6ull裸机开发(4)/","permalink":"http://chengs.run/2025/02/28/imx6ull%E8%A3%B8%E6%9C%BA%E5%BC%80%E5%8F%91(4)/","__post":true},"next":{"title":"imx6ull裸机开发(2)","date":"2025-02-22T14:55:20.555Z","slug":"imx6ull裸机开发(2)","published":true,"updated":"2025-02-22T17:36:08.118Z","_id":"cm833960q000qi0q6agka6dgl","layout":"post","photos":[],"excerpt":"<p>GIC介绍、中断函数过程</p>","path":"2025/02/22/imx6ull裸机开发(2)/","permalink":"http://chengs.run/2025/02/22/imx6ull%E8%A3%B8%E6%9C%BA%E5%BC%80%E5%8F%91(2)/","__post":true},"__post":true}