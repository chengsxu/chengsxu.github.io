{"title":"抄作业！！！","date":"2021-09-08T06:34:08.584Z","source":"_posts/抄作业！！！.md","raw":"---\ntitle: 抄作业！！！\ndate: 2021-09-08 14:34:08.584\nupdated: 2022-01-16 17:36:40.158\ncategories: \ntags: \n---\n...\n<!-- more -->\n# docker and docker-compose\n\n```shell\n# 安装docker\ncurl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun\n\n# 安装docker-compose\nsudo curl -L \"https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)\" -o /usr/local/bin/docker-compose\n\nsudo chmod +x /usr/local/bin/docker-compose\n\nsudo ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose\n\ndocker-compose --version\n\n# docker-compose操作\ndocker-compose up -d --no-recreate\ndocker-compose ps -a\ndocker-compose logs\n```\n\n# packstream && peer2profit\n提前声明环境变量:\nexport COMPOSE_HTTP_TIMEOUT=500\n## packstream docker-compose.yml\n```shell\nhttps://github.com/xuchengcheng926/packetstream/raw/main/docker-compose.yaml\ntest 2MyD \n大号 2LTg\n\nexport COMPOSE_HTTP_TIMEOUT=500 && mkdir packstream && cd packstream && nano docker-compose.yml\nversion: '3.8'\nservices:\n  packetstream:\n    deploy:\n      mode: replicated\n      replicas: 350\n      restart_policy:\n        condition: on-failure\n        max_attempts: 2\n      resources:\n        limits:\n          cpus: \"0.1\"\n          memory: '30M'\n    image: packetstream/psclient:latest\n    environment:\n      - CID=2MyD\n      - http_proxy=http://194.226.139.221:8458\n      - https_proxy=http://194.226.139.221:8458\n    logging:\n      driver: json-file\n      options:\n        max-size: \"10m\"\n        max-file: \"1\"\n\n```\n\n## peer2profit docker-compose.yml\n```shell\nhttps://github.com/Chasing66/peer2profit/blob/main/docker-compose.yml\n\nexport COMPOSE_HTTP_TIMEOUT=500 && mkdir peer2profit&& cd peer2profit && nano docker-compose.yml\nversion: '3.8'\nservices:\n  p2p:\n    deploy:\n      replicas: 10\n      restart_policy:\n        condition: on-failure\n        max_attempts: 2\n      resources:\n        limits:\n          cpus: \"0.15\"\n          memory: '35M'\n    image: enwaiax/peer2profit:latest\n    environment:\n      - email=xuchengscc@gmail.com\n    logging: \n      driver: json-file\n      options:\n        max-size: \"10m\"\n        max-file: \"1\"\n```\n\n\n\n","slug":"抄作业！！！","published":true,"updated":"2022-01-16T09:36:40.158Z","_id":"cm8339612001ui0q6fkqq4gdb","comments":true,"layout":"post","photos":[],"html":"<p>…</p>\n<span id=\"more\"></span>\n<h1 id=\"docker-and-docker-compose\"><a href=\"#docker-and-docker-compose\" class=\"headerlink\" title=\"docker and docker-compose\"></a>docker and docker-compose</h1><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">安装docker</span></span><br><span class=\"line\">curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">安装docker-compose</span></span><br><span class=\"line\">sudo curl -L &quot;https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)&quot; -o /usr/local/bin/docker-compose</span><br><span class=\"line\"></span><br><span class=\"line\">sudo chmod +x /usr/local/bin/docker-compose</span><br><span class=\"line\"></span><br><span class=\"line\">sudo ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose</span><br><span class=\"line\"></span><br><span class=\"line\">docker-compose --version</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">docker-compose操作</span></span><br><span class=\"line\">docker-compose up -d --no-recreate</span><br><span class=\"line\">docker-compose ps -a</span><br><span class=\"line\">docker-compose logs</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"packstream-peer2profit\"><a href=\"#packstream-peer2profit\" class=\"headerlink\" title=\"packstream &amp;&amp; peer2profit\"></a>packstream &amp;&amp; peer2profit</h1><p>提前声明环境变量:<br>export COMPOSE_HTTP_TIMEOUT&#x3D;500</p>\n<h2 id=\"packstream-docker-compose-yml\"><a href=\"#packstream-docker-compose-yml\" class=\"headerlink\" title=\"packstream docker-compose.yml\"></a>packstream docker-compose.yml</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://github.com/xuchengcheng926/packetstream/raw/main/docker-compose.yaml</span><br><span class=\"line\">test 2MyD </span><br><span class=\"line\">大号 2LTg</span><br><span class=\"line\"></span><br><span class=\"line\">export COMPOSE_HTTP_TIMEOUT=500 &amp;&amp; mkdir packstream &amp;&amp; cd packstream &amp;&amp; nano docker-compose.yml</span><br><span class=\"line\">version: &#x27;3.8&#x27;</span><br><span class=\"line\">services:</span><br><span class=\"line\">  packetstream:</span><br><span class=\"line\">    deploy:</span><br><span class=\"line\">      mode: replicated</span><br><span class=\"line\">      replicas: 350</span><br><span class=\"line\">      restart_policy:</span><br><span class=\"line\">        condition: on-failure</span><br><span class=\"line\">        max_attempts: 2</span><br><span class=\"line\">      resources:</span><br><span class=\"line\">        limits:</span><br><span class=\"line\">          cpus: &quot;0.1&quot;</span><br><span class=\"line\">          memory: &#x27;30M&#x27;</span><br><span class=\"line\">    image: packetstream/psclient:latest</span><br><span class=\"line\">    environment:</span><br><span class=\"line\">      - CID=2MyD</span><br><span class=\"line\">      - http_proxy=http://194.226.139.221:8458</span><br><span class=\"line\">      - https_proxy=http://194.226.139.221:8458</span><br><span class=\"line\">    logging:</span><br><span class=\"line\">      driver: json-file</span><br><span class=\"line\">      options:</span><br><span class=\"line\">        max-size: &quot;10m&quot;</span><br><span class=\"line\">        max-file: &quot;1&quot;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"peer2profit-docker-compose-yml\"><a href=\"#peer2profit-docker-compose-yml\" class=\"headerlink\" title=\"peer2profit docker-compose.yml\"></a>peer2profit docker-compose.yml</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://github.com/Chasing66/peer2profit/blob/main/docker-compose.yml</span><br><span class=\"line\"></span><br><span class=\"line\">export COMPOSE_HTTP_TIMEOUT=500 &amp;&amp; mkdir peer2profit&amp;&amp; cd peer2profit &amp;&amp; nano docker-compose.yml</span><br><span class=\"line\">version: &#x27;3.8&#x27;</span><br><span class=\"line\">services:</span><br><span class=\"line\">  p2p:</span><br><span class=\"line\">    deploy:</span><br><span class=\"line\">      replicas: 10</span><br><span class=\"line\">      restart_policy:</span><br><span class=\"line\">        condition: on-failure</span><br><span class=\"line\">        max_attempts: 2</span><br><span class=\"line\">      resources:</span><br><span class=\"line\">        limits:</span><br><span class=\"line\">          cpus: &quot;0.15&quot;</span><br><span class=\"line\">          memory: &#x27;35M&#x27;</span><br><span class=\"line\">    image: enwaiax/peer2profit:latest</span><br><span class=\"line\">    environment:</span><br><span class=\"line\">      - email=xuchengscc@gmail.com</span><br><span class=\"line\">    logging: </span><br><span class=\"line\">      driver: json-file</span><br><span class=\"line\">      options:</span><br><span class=\"line\">        max-size: &quot;10m&quot;</span><br><span class=\"line\">        max-file: &quot;1&quot;</span><br></pre></td></tr></table></figure>\n\n\n\n","excerpt":"<p>…</p>","more":"<h1 id=\"docker-and-docker-compose\"><a href=\"#docker-and-docker-compose\" class=\"headerlink\" title=\"docker and docker-compose\"></a>docker and docker-compose</h1><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">安装docker</span></span><br><span class=\"line\">curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">安装docker-compose</span></span><br><span class=\"line\">sudo curl -L &quot;https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)&quot; -o /usr/local/bin/docker-compose</span><br><span class=\"line\"></span><br><span class=\"line\">sudo chmod +x /usr/local/bin/docker-compose</span><br><span class=\"line\"></span><br><span class=\"line\">sudo ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose</span><br><span class=\"line\"></span><br><span class=\"line\">docker-compose --version</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">docker-compose操作</span></span><br><span class=\"line\">docker-compose up -d --no-recreate</span><br><span class=\"line\">docker-compose ps -a</span><br><span class=\"line\">docker-compose logs</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"packstream-peer2profit\"><a href=\"#packstream-peer2profit\" class=\"headerlink\" title=\"packstream &amp;&amp; peer2profit\"></a>packstream &amp;&amp; peer2profit</h1><p>提前声明环境变量:<br>export COMPOSE_HTTP_TIMEOUT&#x3D;500</p>\n<h2 id=\"packstream-docker-compose-yml\"><a href=\"#packstream-docker-compose-yml\" class=\"headerlink\" title=\"packstream docker-compose.yml\"></a>packstream docker-compose.yml</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://github.com/xuchengcheng926/packetstream/raw/main/docker-compose.yaml</span><br><span class=\"line\">test 2MyD </span><br><span class=\"line\">大号 2LTg</span><br><span class=\"line\"></span><br><span class=\"line\">export COMPOSE_HTTP_TIMEOUT=500 &amp;&amp; mkdir packstream &amp;&amp; cd packstream &amp;&amp; nano docker-compose.yml</span><br><span class=\"line\">version: &#x27;3.8&#x27;</span><br><span class=\"line\">services:</span><br><span class=\"line\">  packetstream:</span><br><span class=\"line\">    deploy:</span><br><span class=\"line\">      mode: replicated</span><br><span class=\"line\">      replicas: 350</span><br><span class=\"line\">      restart_policy:</span><br><span class=\"line\">        condition: on-failure</span><br><span class=\"line\">        max_attempts: 2</span><br><span class=\"line\">      resources:</span><br><span class=\"line\">        limits:</span><br><span class=\"line\">          cpus: &quot;0.1&quot;</span><br><span class=\"line\">          memory: &#x27;30M&#x27;</span><br><span class=\"line\">    image: packetstream/psclient:latest</span><br><span class=\"line\">    environment:</span><br><span class=\"line\">      - CID=2MyD</span><br><span class=\"line\">      - http_proxy=http://194.226.139.221:8458</span><br><span class=\"line\">      - https_proxy=http://194.226.139.221:8458</span><br><span class=\"line\">    logging:</span><br><span class=\"line\">      driver: json-file</span><br><span class=\"line\">      options:</span><br><span class=\"line\">        max-size: &quot;10m&quot;</span><br><span class=\"line\">        max-file: &quot;1&quot;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"peer2profit-docker-compose-yml\"><a href=\"#peer2profit-docker-compose-yml\" class=\"headerlink\" title=\"peer2profit docker-compose.yml\"></a>peer2profit docker-compose.yml</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://github.com/Chasing66/peer2profit/blob/main/docker-compose.yml</span><br><span class=\"line\"></span><br><span class=\"line\">export COMPOSE_HTTP_TIMEOUT=500 &amp;&amp; mkdir peer2profit&amp;&amp; cd peer2profit &amp;&amp; nano docker-compose.yml</span><br><span class=\"line\">version: &#x27;3.8&#x27;</span><br><span class=\"line\">services:</span><br><span class=\"line\">  p2p:</span><br><span class=\"line\">    deploy:</span><br><span class=\"line\">      replicas: 10</span><br><span class=\"line\">      restart_policy:</span><br><span class=\"line\">        condition: on-failure</span><br><span class=\"line\">        max_attempts: 2</span><br><span class=\"line\">      resources:</span><br><span class=\"line\">        limits:</span><br><span class=\"line\">          cpus: &quot;0.15&quot;</span><br><span class=\"line\">          memory: &#x27;35M&#x27;</span><br><span class=\"line\">    image: enwaiax/peer2profit:latest</span><br><span class=\"line\">    environment:</span><br><span class=\"line\">      - email=xuchengscc@gmail.com</span><br><span class=\"line\">    logging: </span><br><span class=\"line\">      driver: json-file</span><br><span class=\"line\">      options:</span><br><span class=\"line\">        max-size: &quot;10m&quot;</span><br><span class=\"line\">        max-file: &quot;1&quot;</span><br></pre></td></tr></table></figure>","path":"2021/09/08/抄作业！！！/","permalink":"http://chengs.run/2021/09/08/%E6%8A%84%E4%BD%9C%E4%B8%9A%EF%BC%81%EF%BC%81%EF%BC%81/","tags":[],"categories":[],"prev":{"title":"service文件创建","date":"2021-12-01T14:23:46.487Z","slug":"service文件创建","published":true,"updated":"2021-12-19T11:27:20.690Z","_id":"cm833960y001hi0q66jn341ah","layout":"post","photos":[],"excerpt":"<p>linux service文件创建</p>","path":"2021/12/01/service文件创建/","permalink":"http://chengs.run/2021/12/01/service%E6%96%87%E4%BB%B6%E5%88%9B%E5%BB%BA/","__post":true},"next":{"title":"酒厂大尺度合集","date":"2021-09-08T00:18:09.878Z","slug":"酒厂大尺度合集","published":true,"updated":"2021-12-19T05:12:03.193Z","_id":"cm83396140021i0q67x8n4sgu","layout":"post","photos":[],"excerpt":"<p>照片</p>","path":"2021/09/08/酒厂大尺度合集/","permalink":"http://chengs.run/2021/09/08/%E9%85%92%E5%8E%82%E5%A4%A7%E5%B0%BA%E5%BA%A6%E5%90%88%E9%9B%86/","__post":true},"__post":true}